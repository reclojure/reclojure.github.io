{"version":3,"sources":["portal/web.cljs"],"mappings":";AAOA,AAAcA,wBAAMC;;AAEpB;;;oBAAA,pBAAeC,gDAEZC;AAFH,AAGE,AAACC,4BAAgBD;;AAHnB;;;AAMA;;;iBAAA,jBAAoCE;AAApC,AAGE,kBAAA,wDAAA,AAAA,gFAAA,wCAAA,gDAAA,qDAAA,sDAAA,iEAAA,wDAAA,yDAAA,oDAAA,6DAAA,6DAAA,mDAAA,sDAAA,AAAA,qEAAA,AAAA,6DAAA,AAAA,kBAAA,AAAA,GAAA,AAAA,KAAA,AAAA,EAAA,AAAA,GAAA,AAAA,GAAA,AAAA,sKAAA,AAAA,uBAAA,kBAAAH,mBAAA,AAAA,AAAAA,iCAAA,7sCAACI;;AAHH;;;AAMA,AAAA;;;kBAAA,0BAAAC,5CAAeE;AAAf,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC;;;KAAA;AAAA,OAAAA,8CAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;;AAAA,CAAA,gDAAA,hDAAeD;AAAf,AAEM,qDAAA,9CAACE;;;AAFP,CAAA,gDAAA,hDAAeF,2DAGXG;AAHJ,AAIG,AAACC,2BAAiBD;;AAClB,AAACE,iCAAOF;;AACR,OAACG,oCAAYC;;;AANhB,CAAA,0CAAA,1CAAeP;;AAAf,AAQA;;;mBAAA,nBAAeQ;AAAf,AAGE,AAACC;;AAHH;;;AAMA;;;mBAAA,nBAAeC;AAAf,AAGE,AAACC;;AAHH;;;AAMA,GAAA,QAAAC,mCAAAC,uCAAAC;AAAA;AAAA,AAAA,AAAmBC,yBAAM,6CAAA,7CAACC;;AAE1B,kBAAA,lBAAOC;AAAP,AACE,oBAAA,AAAAC,gBAAWH;AAAX;;AAAA,AACE,6CAAA,7CAACI,sBAAOJ;;AACR,AAACK;;AACD,kCAAA,3BAACC,mGAEA,WAAKC;AAAL,AACE,oBAAM,8BAAA,2CAAA,iFAAA,iFAAA,aAAA,YAAA,wBAAA,wFAAA,iFAAA,aAAA,eAAA,jeAACC,igBAGAD;AAHP,AAIE,OAACpB;;AAJH;;;;;AAMP,AAACe","names":["portal.web/send!","portal.runtime.web.launcher/send!","portal.web/submit","value","portal.runtime/update-value","portal.web/tap","cljs.core/add-tap","var_args","G__56785","portal.web/open","js/Error","portal.web.open","options","portal.spec/assert-options","portal.runtime.web.launcher/open","portal.runtime.web.client/make-atom","portal.runtime.web.launcher/child-window","portal.web/close","portal.runtime.web.launcher/close","portal.web/clear","portal.runtime.web.launcher/clear","js/portal","js/portal.web","js/portal.web.init?","portal.web/init?","cljs.core.atom","portal.web/init","cljs.core/deref","cljs.core/reset!","portal.runtime.web.launcher/init","portal.shortcuts/add!","log","portal.shortcuts/match?"],"sourcesContent":["(ns portal.web\n  (:require [portal.runtime :as rt]\n            [portal.runtime.web.client :as c]\n            [portal.runtime.web.launcher :as l]\n            [portal.shortcuts :as shortcuts]\n            [portal.spec :as s]))\n\n(def ^:export send! l/send!)\n\n(defn ^:export submit\n  \"Tap target function.\"\n  [value]\n  (rt/update-value value)\n  nil)\n\n(defn ^:export ^{:deprecated \"0.9\"} tap\n  \"Add portal as a tap> target.\"\n  []\n  (add-tap #'submit)\n  nil)\n\n(defn ^:export open\n  \"Open a new inspector window.\"\n  ([] (open nil))\n  ([options]\n   (s/assert-options options)\n   (l/open options)\n   (c/make-atom l/child-window)))\n\n(defn ^:export close\n  \"Close all current inspector windows.\"\n  []\n  (l/close)\n  nil)\n\n(defn ^:export clear\n  \"Clear all values.\"\n  []\n  (l/clear)\n  nil)\n\n(defonce ^:private init? (atom false))\n\n(defn- init []\n  (when-not @init?\n    (reset! init? true)\n    (l/init)\n    (shortcuts/add!\n     ::init\n     (fn [log]\n       (when (shortcuts/match?\n              {::shortcuts/osx     #{\"meta\" \"shift\" \"o\"}\n               ::shortcuts/default #{\"control\" \"shift\" \"o\"}}\n              log)\n         (open))))))\n\n(init)\n"]}